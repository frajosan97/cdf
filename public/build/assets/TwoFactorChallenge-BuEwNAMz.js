import{r as h,j as e,u as G,H as q}from"./app-DPcbxTOd.js";import{u as _,c as $,P as E,C as V,B as w}from"./Container-B_mnjrQ9.js";import{R as W}from"./Row-DBg6b2YQ.js";import{C as z}from"./Col-CHXxh1EV.js";import{C as T}from"./Card-CydrCQAQ.js";import{F as k,u as J}from"./Fade-im2yVPtn.js";import{T as j,m as R,N as B,S as N,u as Q,$ as Y,a as Z,b as ee,c as te}from"./Nav-CMn0ohHf.js";import{m as S,f as ne,F as b}from"./Form-qlW_KRhp.js";import"./warning-DlyZssLe.js";const oe=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],re=["activeKey","getControlledId","getControllerId"],ae=["as"];function O(t,n){if(t==null)return{};var o={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)>=0)continue;o[r]=t[r]}return o}function D(t){let{active:n,eventKey:o,mountOnEnter:r,transition:a,unmountOnExit:s,role:d="tabpanel",onEnter:l,onEntering:i,onEntered:m,onExit:u,onExiting:c,onExited:x}=t,p=O(t,oe);const v=h.useContext(j);if(!v)return[Object.assign({},p,{role:d}),{eventKey:o,isActive:n,mountOnEnter:r,transition:a,unmountOnExit:s,onEnter:l,onEntering:i,onEntered:m,onExit:u,onExiting:c,onExited:x}];const{activeKey:y,getControlledId:f,getControllerId:C}=v,g=O(v,re),F=R(o);return[Object.assign({},p,{role:d,id:f(o),"aria-labelledby":C(o)}),{eventKey:o,isActive:n==null&&F!=null?R(y)===F:n,transition:a||g.transition,mountOnEnter:r??g.mountOnEnter,unmountOnExit:s??g.unmountOnExit,onEnter:l,onEntering:i,onEntered:m,onExit:u,onExiting:c,onExited:x}]}const L=h.forwardRef((t,n)=>{let{as:o="div"}=t,r=O(t,ae);const[a,{isActive:s,onEnter:d,onEntering:l,onEntered:i,onExit:m,onExiting:u,onExited:c,mountOnEnter:x,unmountOnExit:p,transition:v=B}]=D(r);return e.jsx(j.Provider,{value:null,children:e.jsx(N.Provider,{value:null,children:e.jsx(v,{in:s,onEnter:d,onEntering:l,onEntered:i,onExit:m,onExiting:u,onExited:c,mountOnEnter:x,unmountOnExit:p,children:e.jsx(o,Object.assign({},a,{ref:n,hidden:!s,"aria-hidden":!s}))})})})});L.displayName="TabPanel";const P=t=>{const{id:n,generateChildId:o,onSelect:r,activeKey:a,defaultActiveKey:s,transition:d,mountOnEnter:l,unmountOnExit:i,children:m}=t,[u,c]=Q(a,s,r),x=Y(n),p=h.useMemo(()=>o||((y,f)=>x?`${x}-${f}-${y}`:null),[x,o]),v=h.useMemo(()=>({onSelect:c,activeKey:u,transition:d,mountOnEnter:l||!1,unmountOnExit:i||!1,getControlledId:y=>p(y,"tabpane"),getControllerId:y=>p(y,"tab")}),[c,u,d,l,i,p]);return e.jsx(j.Provider,{value:v,children:e.jsx(N.Provider,{value:c||null,children:m})})};P.Panel=L;function K(t){return typeof t=="boolean"?t?k:B:t}const H=({transition:t,...n})=>e.jsx(P,{...n,transition:K(t)});H.displayName="TabContainer";const A=h.forwardRef(({className:t,bsPrefix:n,as:o="div",...r},a)=>(n=_(n,"tab-content"),e.jsx(o,{ref:a,className:$(t,n),...r})));A.displayName="TabContent";const I=h.forwardRef(({bsPrefix:t,transition:n,...o},r)=>{const[{className:a,as:s="div",...d},{isActive:l,onEnter:i,onEntering:m,onEntered:u,onExit:c,onExiting:x,onExited:p,mountOnEnter:v,unmountOnExit:y,transition:f=k}]=D({...o,transition:K(n)}),C=_(t,"tab-pane");return e.jsx(j.Provider,{value:null,children:e.jsx(N.Provider,{value:null,children:e.jsx(f,{in:l,onEnter:i,onEntering:m,onEntered:u,onExit:c,onExiting:x,onExited:p,mountOnEnter:v,unmountOnExit:y,children:e.jsx(s,{...d,ref:r,className:$(a,C,l&&"active")})})})})});I.displayName="TabPane";const ie={eventKey:E.oneOfType([E.string,E.number]),title:E.node.isRequired,disabled:E.bool,tabClassName:E.string,tabAttrs:E.object},M=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};M.propTypes=ie;const X=Object.assign(M,{Container:H,Content:A,Pane:I});function se(t){let n;return ne(t,o=>{n==null&&(n=o.props.eventKey)}),n}function le(t){const{title:n,eventKey:o,disabled:r,tabClassName:a,tabAttrs:s,id:d}=t.props;return n==null?null:e.jsx(ee,{as:"li",role:"presentation",children:e.jsx(te,{as:"button",type:"button",eventKey:o,disabled:r,id:d,className:a,...s,children:n})})}const U=t=>{const{id:n,onSelect:o,transition:r,mountOnEnter:a=!1,unmountOnExit:s=!1,variant:d="tabs",children:l,activeKey:i=se(l),...m}=J(t,{activeKey:"onSelect"});return e.jsxs(P,{id:n,activeKey:i,onSelect:o,transition:K(r),mountOnEnter:a,unmountOnExit:s,children:[e.jsx(Z,{id:n,...m,role:"tablist",as:"ul",variant:d,children:S(l,le)}),e.jsx(A,{children:S(l,u=>{const c={...u.props};return delete c.title,delete c.disabled,delete c.tabClassName,delete c.tabAttrs,e.jsx(I,{...c})})})]})};U.displayName="Tabs";function Ee(){const{data:t,setData:n,post:o,processing:r,errors:a,reset:s}=G({code:"",recovery_code:""}),d=i=>{i.preventDefault(),o(route("two-factor.login"),{onSuccess:()=>s("code")})},l=i=>{i.preventDefault(),o(route("two-factor.login"),{onSuccess:()=>s("recovery_code")})};return e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"Two-Factor Confirmation"}),e.jsx(V,{className:"mt-5",children:e.jsx(W,{className:"justify-content-center",children:e.jsx(z,{md:8,lg:6,children:e.jsxs(T,{children:[e.jsx(T.Header,{as:"h4",className:"text-center",children:"Two-Factor Authentication"}),e.jsxs(T.Body,{children:[e.jsx("p",{className:"text-muted text-center mb-4",children:"Please confirm access to your account by entering the authentication code provided by your authenticator application or by using one of your recovery codes."}),e.jsxs(U,{defaultActiveKey:"code",id:"2fa-tabs",className:"mb-3",justify:!0,children:[e.jsx(X,{eventKey:"code",title:"Authentication Code",children:e.jsxs(b,{onSubmit:d,className:"mt-3",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Code"}),e.jsx(b.Control,{type:"text",inputMode:"numeric",autoFocus:!0,autoComplete:"one-time-code",value:t.code,onChange:i=>n("code",i.target.value),isInvalid:!!a.code,placeholder:"123456"}),e.jsx(b.Control.Feedback,{type:"invalid",children:a.code})]}),e.jsx("div",{className:"d-grid",children:e.jsx(w,{variant:"primary",type:"submit",disabled:r,children:"Verify"})})]})}),e.jsx(X,{eventKey:"recovery",title:"Recovery Code",children:e.jsxs(b,{onSubmit:l,className:"mt-3",children:[e.jsxs(b.Group,{className:"mb-3",children:[e.jsx(b.Label,{children:"Recovery Code"}),e.jsx(b.Control,{type:"text",value:t.recovery_code,onChange:i=>n("recovery_code",i.target.value),isInvalid:!!a.recovery_code,placeholder:"XXXXX-XXXXX"}),e.jsx(b.Control.Feedback,{type:"invalid",children:a.recovery_code})]}),e.jsx("div",{className:"d-grid",children:e.jsx(w,{variant:"outline-primary",type:"submit",disabled:r,children:"Use Recovery Code"})})]})})]})]})]})})})})]})}export{Ee as default};
